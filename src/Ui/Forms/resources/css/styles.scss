@import '~Osm_Ui_Aba/_variables-and-mixins.scss';
@import './_mixins.scss';

.form {
  &.-wide {
    @include form-items();
  }

  &.-wide &__item {
    @include form-item();
  }
}

.form-tab {
  &__items.-wide {
    @include form-items();
  }

  &__items.-wide &__item {
    @include form-item();
  }
}

.form-section {
  &__items.-wide {
    @include form-items();
  }

  &__items.-wide &__item {
    @include form-item();
  }
}

.field {
  margin: rem(16px) 0 rem(8px);

  &__body {
    padding: rem(4px) rem(12px) rem(6px);
    border-bottom: solid rem(2px) transparent;
    border-radius: rem(4px) rem(4px) 0 0;
  }

  &__value {
    width: 100%;
    border: none;
  }

  &__comment, &__error {
    font-size: rem(12px);
    padding: 0 rem(12px);
    min-height: rem(18px);
  }

  &__error {
    color: $color--error;
    display: none;
  }

  &.-error {
    .field__title {
      color: $color--error;
    }

    .field__error {
      display: block;
    }

    .field__comment {
      display: none;
    }
  }

  &.-error.-active {
    .field__body {
      border-color: $color--error;
    }
  }

  &.-filled {
    .field__body {
      background: $color--input--filled;
    }

    .field__value {
      background: $color--input--filled;

      // fix Chrome auto filled input background
      &:-webkit-autofill {
        -webkit-box-shadow: 0 0 0 1000px $color--input--filled inset !important;
      }
    }
  }

  &.-price &__body {
    max-width: rem(180px);
  }
  &.-price &__price {
    width: 100%;
    display: flex;
  }
  &.-price &__currency {
    padding-right: rem(8px);
  }

  &.-date &__body {
    max-width: rem(180px);
  }

  &.-dropdown &__body {
    max-width: rem(300px);
  }


  &.-text &__value {
    resize: none;
    font-size: 16px;
    font-family: inherit;
  }

  &.-checkbox {
    margin: 0;
  }
  &.-checkbox &__body {
    display: flex;
    align-items: flex-start;
    border-left: solid rem(2px) transparent;
    border-bottom: none;
    border-radius: 0;
  }
  &.-checkbox &__value {
    width: auto;
    margin: rem(5px) rem(8px) 0 0;
  }
  &.-checkbox &__title {
    font-size: inherit;
  }

  &.-active {
    .field__body {
      border-color: currentColor;
    }
  }

  &.-checkbox &__title {
    @include foreach-background() using($bg) {
      color: fg-color($bg);
    }
  }

  &.-text &__value, &.-dropdown &__value, &.-price &__value, &.-date &__value {
    @include foreach-background() using($bg) {
      background-color: bg-color($bg);
      color: fg-color($bg);
    }
  }
}
